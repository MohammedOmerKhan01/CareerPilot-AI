<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Career Pilot AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-50">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;

        // Simple Auth Manager
        const AuthManager = {
          getCurrentUser: () => {
            const user = localStorage.getItem('currentUser');
            return user ? JSON.parse(user) : null;
          },
          
          signUp: (email, password, name) => {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if (users.find(u => u.email === email)) {
              throw new Error('User already exists');
            }

            const newUser = {
              id: Date.now().toString(),
              email,
              password,
              name,
              createdAt: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));

            const userWithoutPassword = { ...newUser };
            delete userWithoutPassword.password;
            localStorage.setItem('currentUser', JSON.stringify(userWithoutPassword));

            return userWithoutPassword;
          },

          signIn: (email, password) => {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);

            if (!user) {
              throw new Error('Invalid email or password');
            }

            const userWithoutPassword = { ...user };
            delete userWithoutPassword.password;
            localStorage.setItem('currentUser', JSON.stringify(userWithoutPassword));

            return userWithoutPassword;
          },

          signOut: () => {
            localStorage.removeItem('currentUser');
          }
        };

        // Toast Notification Component
        const Toast = ({ message, type, onClose }) => {
          useEffect(() => {
            const timer = setTimeout(onClose, 3000);
            return () => clearTimeout(timer);
          }, []);

          const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';

          return (
            <div className={`fixed top-4 right-4 ${bgColor} text-white px-6 py-4 rounded-lg shadow-lg z-50`}>
              <div className="flex items-center space-x-2">
                <span>{message}</span>
                <button onClick={onClose} className="ml-4 text-xl">√ó</button>
              </div>
            </div>
          );
        };

        // Modal Component
        const Modal = ({ isOpen, onClose, title, children }) => {
          if (!isOpen) return null;

          return (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
              <div className="bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div className="flex justify-between items-center p-6 border-b">
                  <h2 className="text-2xl font-bold text-gray-800">{title}</h2>
                  <button onClick={onClose} className="text-gray-500 hover:text-gray-700 text-2xl">
                    √ó
                  </button>
                </div>
                <div className="p-6">
                  {children}
                </div>
              </div>
            </div>
          );
        };

        // Sign In Component
        const SignIn = ({ onSwitchToSignUp, onSignIn, showToast }) => {
          const [email, setEmail] = useState('');
          const [password, setPassword] = useState('');
          const [isLoading, setIsLoading] = useState(false);

          const handleSubmit = async (e) => {
            e.preventDefault();
            setIsLoading(true);

            try {
              const user = AuthManager.signIn(email, password);
              showToast('Welcome back!', 'success');
              onSignIn(user);
            } catch (error) {
              showToast(error.message, 'error');
            } finally {
              setIsLoading(false);
            }
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4">
              <div className="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8">
                <div className="text-center mb-8">
                  <div className="w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <span className="text-4xl">üöÄ</span>
                  </div>
                  <h1 className="text-3xl font-bold text-gray-800">Welcome Back!</h1>
                  <p className="text-gray-600 mt-2">Sign in to continue your career journey</p>
                </div>

                <form onSubmit={handleSubmit} className="space-y-4">
                  <div>
                    <label className="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                    <input
                      type="email"
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      placeholder="your@email.com"
                      value={email}
                      onChange={(e) => setEmail(e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                    <input
                      type="password"
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                    />
                  </div>

                  <button
                    type="submit"
                    disabled={isLoading}
                    className="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50"
                  >
                    {isLoading ? 'Signing In...' : 'Sign In'}
                  </button>
                </form>

                <div className="mt-6 text-center">
                  <p className="text-gray-600">
                    Don't have an account?{' '}
                    <button
                      onClick={onSwitchToSignUp}
                      className="text-blue-600 font-semibold hover:text-blue-800"
                    >
                      Sign Up
                    </button>
                  </p>
                </div>

                <div className="mt-6 pt-6 border-t border-gray-200">
                  <p className="text-sm text-gray-500 text-center">
                    Demo: Create any account to get started
                  </p>
                </div>
              </div>
            </div>
          );
        };

        // Sign Up Component
        const SignUp = ({ onSwitchToSignIn, onSignUp, showToast }) => {
          const [name, setName] = useState('');
          const [email, setEmail] = useState('');
          const [password, setPassword] = useState('');
          const [confirmPassword, setConfirmPassword] = useState('');
          const [isLoading, setIsLoading] = useState(false);

          const handleSubmit = async (e) => {
            e.preventDefault();

            if (password !== confirmPassword) {
              showToast('Passwords do not match', 'error');
              return;
            }

            if (password.length < 6) {
              showToast('Password must be at least 6 characters', 'error');
              return;
            }

            setIsLoading(true);

            try {
              const user = AuthManager.signUp(email, password, name);
              showToast('Account created successfully!', 'success');
              onSignUp(user);
            } catch (error) {
              showToast(error.message, 'error');
            } finally {
              setIsLoading(false);
            }
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center p-4">
              <div className="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8">
                <div className="text-center mb-8">
                  <div className="w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <span className="text-4xl">üöÄ</span>
                  </div>
                  <h1 className="text-3xl font-bold text-gray-800">Create Account</h1>
                  <p className="text-gray-600 mt-2">Start your career journey today</p>
                </div>

                <form onSubmit={handleSubmit} className="space-y-4">
                  <div>
                    <label className="block text-sm font-semibold text-gray-700 mb-2">Full Name</label>
                    <input
                      type="text"
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      placeholder="John Doe"
                      value={name}
                      onChange={(e) => setName(e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                    <input
                      type="email"
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      placeholder="your@email.com"
                      value={email}
                      onChange={(e) => setEmail(e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                    <input
                      type="password"
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                    />
                  </div>

                  <div>
                    <label className="block text-sm font-semibold text-gray-700 mb-2">Confirm Password</label>
                    <input
                      type="password"
                      required
                      className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                      placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                      value={confirmPassword}
                      onChange={(e) => setConfirmPassword(e.target.value)}
                    />
                  </div>

                  <button
                    type="submit"
                    disabled={isLoading}
                    className="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50"
                  >
                    {isLoading ? 'Creating Account...' : 'Sign Up'}
                  </button>
                </form>

                <div className="mt-6 text-center">
                  <p className="text-gray-600">
                    Already have an account?{' '}
                    <button
                      onClick={onSwitchToSignIn}
                      className="text-blue-600 font-semibold hover:text-blue-800"
                    >
                      Sign In
                    </button>
                  </p>
                </div>
              </div>
            </div>
          );
        };

        // Navigation Component
        const Navigation = ({ activeTab, setActiveTab, user, onSignOut }) => {
          return (
            <nav className="bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg">
              <div className="container mx-auto px-4">
                <div className="flex items-center justify-between h-16">
                  <div className="flex items-center space-x-2">
                    <div className="w-10 h-10 bg-white rounded-lg flex items-center justify-center">
                      <span className="text-2xl">üöÄ</span>
                    </div>
                    <span className="text-xl font-bold">Quantum Career Pilot AI</span>
                  </div>
                  <div className="hidden md:flex space-x-6 items-center">
                    {['Dashboard', 'Jobs', 'Resume', 'Applications', 'AI Coach'].map(tab => (
                      <button
                        key={tab}
                        onClick={() => setActiveTab(tab)}
                        className={`px-4 py-2 rounded-lg transition ${
                          activeTab === tab ? 'bg-white text-blue-600' : 'hover:bg-blue-700'
                        }`}
                      >
                        {tab}
                      </button>
                    ))}
                    <div className="flex items-center space-x-3 ml-4 pl-4 border-l border-blue-400">
                      <div className="text-right">
                        <p className="text-sm font-semibold">{user?.name}</p>
                        <p className="text-xs opacity-75">{user?.email}</p>
                      </div>
                      <button
                        onClick={onSignOut}
                        className="bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition"
                      >
                        Sign Out
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </nav>
          );
        };

        // Dashboard Component
        const Dashboard = ({ user, onNavigate, showToast }) => {
          const stats = [
            { label: 'Jobs Applied', value: '24', icon: 'üìù', color: 'blue' },
            { label: 'Interviews', value: '8', icon: 'üíº', color: 'green' },
            { label: 'Offers', value: '3', icon: 'üéâ', color: 'purple' },
            { label: 'Match Score', value: '87%', icon: '‚≠ê', color: 'yellow' }
          ];

          const [showInsightsModal, setShowInsightsModal] = useState(false);

          return (
            <div className="space-y-6">
              <h1 className="text-3xl font-bold text-gray-800">Welcome back, {user?.name}!</h1>
              
              <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
                {stats.map((stat, idx) => (
                  <div key={idx} className="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition cursor-pointer"
                       onClick={() => {
                         if (stat.label === 'Jobs Applied') onNavigate('Applications');
                         if (stat.label === 'Interviews') onNavigate('Applications');
                       }}>
                    <div className="flex items-center justify-between">
                      <div>
                        <p className="text-gray-500 text-sm">{stat.label}</p>
                        <p className="text-3xl font-bold text-gray-800 mt-2">{stat.value}</p>
                      </div>
                      <div className="text-4xl">{stat.icon}</div>
                    </div>
                  </div>
                ))}
              </div>

              <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div className="bg-white rounded-xl shadow-md p-6">
                  <h2 className="text-xl font-bold mb-4">Recent Activity</h2>
                  <div className="space-y-4">
                    {[
                      { action: 'Applied to Senior Developer at TechCorp', time: '2 hours ago' },
                      { action: 'Interview scheduled with StartupXYZ', time: '1 day ago' },
                      { action: 'Resume updated for AI Engineer role', time: '2 days ago' }
                    ].map((activity, idx) => (
                      <div key={idx} className="flex items-start space-x-3 pb-3 border-b">
                        <div className="w-2 h-2 bg-blue-500 rounded-full mt-2"></div>
                        <div>
                          <p className="text-gray-800">{activity.action}</p>
                          <p className="text-sm text-gray-500">{activity.time}</p>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                <div className="bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-md p-6 text-white">
                  <h2 className="text-xl font-bold mb-4">AI Career Insights</h2>
                  <div className="space-y-3">
                    <p className="flex items-center space-x-2">
                      <span>‚ú®</span>
                      <span>Your profile matches 15 new jobs</span>
                    </p>
                    <p className="flex items-center space-x-2">
                      <span>üìà</span>
                      <span>Skills in demand: React, Python, AWS</span>
                    </p>
                    <p className="flex items-center space-x-2">
                      <span>üí°</span>
                      <span>Tip: Add certifications to boost visibility</span>
                    </p>
                  </div>
                  <button 
                    onClick={() => setShowInsightsModal(true)}
                    className="mt-4 bg-white text-blue-600 px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition">
                    Get AI Recommendations
                  </button>
                </div>
              </div>

              <Modal isOpen={showInsightsModal} onClose={() => setShowInsightsModal(false)} title="AI Career Recommendations">
                <div className="space-y-4">
                  <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h3 className="font-bold text-blue-900 mb-2">üéØ Top Skill Recommendations</h3>
                    <ul className="space-y-2 text-blue-800">
                      <li>‚Ä¢ Learn AWS Cloud Practitioner - High demand in your field</li>
                      <li>‚Ä¢ Master TypeScript - 85% of jobs require this</li>
                      <li>‚Ä¢ Get Docker certification - Trending skill</li>
                    </ul>
                  </div>
                  <div className="bg-green-50 border border-green-200 rounded-lg p-4">
                    <h3 className="font-bold text-green-900 mb-2">üíº Job Opportunities</h3>
                    <p className="text-green-800">15 new jobs match your profile. Click "Jobs" to explore!</p>
                  </div>
                  <div className="bg-purple-50 border border-purple-200 rounded-lg p-4">
                    <h3 className="font-bold text-purple-900 mb-2">üìà Career Growth Path</h3>
                    <p className="text-purple-800">Based on your experience, consider roles like Senior Developer or Tech Lead</p>
                  </div>
                  <button 
                    onClick={() => {
                      setShowInsightsModal(false);
                      onNavigate('Jobs');
                    }}
                    className="w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                    View Matching Jobs
                  </button>
                </div>
              </Modal>
            </div>
          );
        };

        // Jobs Component  
        const Jobs = ({ showToast, onNavigate }) => {
          const [selectedJob, setSelectedJob] = useState(null);
          const [showJobDetails, setShowJobDetails] = useState(false);
          const [showApplyModal, setShowApplyModal] = useState(false);
          const [savedJobs, setSavedJobs] = useState([]);
          const [filters, setFilters] = useState({
            location: '',
            jobType: '',
            skills: ''
          });
          const [applicationData, setApplicationData] = useState({
            coverLetter: '',
            availability: ''
          });
          
          const jobs = [
            {
              id: 1,
              title: 'Senior Full Stack Developer',
              company: 'TechCorp Inc.',
              location: 'San Francisco, CA',
              type: 'Full-time',
              salary: '‚Çπ10L - ‚Çπ18L',
              match: 92,
              skills: ['React', 'Node.js', 'AWS'],
              description: 'We are looking for an experienced Full Stack Developer to join our team. You will work on cutting-edge projects using modern technologies.',
              requirements: ['5+ years experience', 'Strong React skills', 'Node.js expertise', 'AWS knowledge'],
              benefits: ['Health Insurance', '401k', 'Remote Work', 'Unlimited PTO']
            },
            {
              id: 2,
              title: 'AI/ML Engineer',
              company: 'DataScience Labs',
              location: 'Remote',
              type: 'Full-time',
              salary: '‚Çπ15L - ‚Çπ25L',
              match: 88,
              skills: ['Python', 'TensorFlow', 'PyTorch'],
              description: 'Join our AI team to build next-generation machine learning models. Work with cutting-edge AI technologies.',
              requirements: ['3+ years ML experience', 'Python expert', 'Deep Learning knowledge', 'Research background'],
              benefits: ['Competitive Salary', 'Stock Options', 'Learning Budget', 'Flexible Hours']
            },
            {
              id: 3,
              title: 'Frontend Developer',
              company: 'StartupXYZ',
              location: 'New York, NY',
              type: 'Contract',
              salary: '‚Çπ8L - ‚Çπ12L',
              match: 85,
              skills: ['React', 'TypeScript', 'CSS'],
              description: 'Build beautiful user interfaces for our growing startup. Work directly with designers and product team.',
              requirements: ['3+ years frontend', 'React mastery', 'TypeScript', 'Design sense'],
              benefits: ['Competitive Pay', 'Equity', 'Modern Office', 'Team Events']
            }
          ];

          const handleApply = (job) => {
            setSelectedJob(job);
            setShowApplyModal(true);
          };

          const handleViewDetails = (job) => {
            setSelectedJob(job);
            setShowJobDetails(true);
          };

          const submitApplication = () => {
            if (!applicationData.coverLetter) {
              showToast('Please write a cover letter', 'error');
              return;
            }
            showToast(`Successfully applied to ${selectedJob.title}!`, 'success');
            setShowApplyModal(false);
            setApplicationData({ coverLetter: '', availability: '' });
          };

          const toggleSaveJob = (jobId) => {
            if (savedJobs.includes(jobId)) {
              setSavedJobs(savedJobs.filter(id => id !== jobId));
              showToast('Job removed from saved', 'info');
            } else {
              setSavedJobs([...savedJobs, jobId]);
              showToast('Job saved successfully!', 'success');
            }
          };

          const clearFilters = () => {
            setFilters({ location: '', jobType: '', skills: '' });
            showToast('Filters cleared', 'info');
          };

          // Filter jobs based on selected filters
          const filteredJobs = jobs.filter(job => {
            const matchesLocation = !filters.location || 
              job.location.toLowerCase().includes(filters.location.toLowerCase());
            
            const matchesType = !filters.jobType || 
              job.type.toLowerCase() === filters.jobType.toLowerCase();
            
            const matchesSkills = !filters.skills || 
              job.skills.some(skill => 
                skill.toLowerCase().includes(filters.skills.toLowerCase())
              );
            
            return matchesLocation && matchesType && matchesSkills;
          });

          return (
            <div className="space-y-6">
              <div className="flex justify-between items-center">
                <h1 className="text-3xl font-bold text-gray-800">Job Opportunities</h1>
                <div className="flex items-center space-x-2">
                  <span className="text-gray-600">{filteredJobs.length} jobs found</span>
                </div>
              </div>

              {/* Filters Section */}
              <div className="bg-white rounded-xl shadow-md p-6">
                <div className="flex items-center justify-between mb-4">
                  <h2 className="text-lg font-bold text-gray-800">üîç Filter Jobs</h2>
                  <button
                    onClick={clearFilters}
                    className="text-blue-600 hover:text-blue-800 text-sm font-semibold">
                    Clear All
                  </button>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                  <input
                    type="text"
                    placeholder="Location (e.g., Remote, NY)"
                    className="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    value={filters.location}
                    onChange={(e) => setFilters({...filters, location: e.target.value})}
                  />
                  <select
                    className="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    value={filters.jobType}
                    onChange={(e) => setFilters({...filters, jobType: e.target.value})}>
                    <option value="">All Job Types</option>
                    <option value="full-time">Full-time</option>
                    <option value="part-time">Part-time</option>
                    <option value="contract">Contract</option>
                    <option value="internship">Internship</option>
                    <option value="remote">Remote</option>
                  </select>
                  <input
                    type="text"
                    placeholder="Skills (e.g., React, Python)"
                    className="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    value={filters.skills}
                    onChange={(e) => setFilters({...filters, skills: e.target.value})}
                  />
                  <button
                    onClick={() => showToast('Filters applied!', 'success')}
                    className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition font-semibold">
                    Apply Filters
                  </button>
                </div>
                
                {/* Active Filters Display */}
                {(filters.location || filters.jobType || filters.skills) && (
                  <div className="mt-4 flex flex-wrap gap-2">
                    <span className="text-sm text-gray-600">Active filters:</span>
                    {filters.location && (
                      <span className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm flex items-center space-x-1">
                        <span>üìç {filters.location}</span>
                        <button onClick={() => setFilters({...filters, location: ''})} className="hover:text-blue-900">√ó</button>
                      </span>
                    )}
                    {filters.jobType && (
                      <span className="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm flex items-center space-x-1">
                        <span>üíº {filters.jobType}</span>
                        <button onClick={() => setFilters({...filters, jobType: ''})} className="hover:text-green-900">√ó</button>
                      </span>
                    )}
                    {filters.skills && (
                      <span className="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm flex items-center space-x-1">
                        <span>üîß {filters.skills}</span>
                        <button onClick={() => setFilters({...filters, skills: ''})} className="hover:text-purple-900">√ó</button>
                      </span>
                    )}
                  </div>
                )}
              </div>

              {/* Jobs List */}
              {filteredJobs.length === 0 ? (
                <div className="bg-white rounded-xl shadow-md p-12 text-center">
                  <div className="text-6xl mb-4">üîç</div>
                  <h3 className="text-xl font-bold text-gray-800 mb-2">No jobs found</h3>
                  <p className="text-gray-600 mb-4">Try adjusting your filters to see more results</p>
                  <button
                    onClick={clearFilters}
                    className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                    Clear Filters
                  </button>
                </div>
              ) : (
                <div className="space-y-4">
                  {filteredJobs.map(job => (
                    <div key={job.id} className="bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition">
                      <div className="flex justify-between items-start">
                        <div className="flex-1">
                          <div className="flex items-center space-x-3">
                            <h3 
                              className="text-xl font-bold text-gray-800 cursor-pointer hover:text-blue-600"
                              onClick={() => handleViewDetails(job)}>
                              {job.title}
                            </h3>
                            <span className={`px-3 py-1 rounded-full text-sm font-semibold ${
                              job.match >= 90 ? 'bg-green-100 text-green-700' :
                              job.match >= 85 ? 'bg-blue-100 text-blue-700' :
                              'bg-yellow-100 text-yellow-700'
                            }`}>
                              {job.match}% Match
                            </span>
                          </div>
                          <p className="text-gray-600 mt-1">{job.company}</p>
                          <div className="flex items-center space-x-4 mt-3 text-sm text-gray-500">
                            <span>üìç {job.location}</span>
                            <span>üíº {job.type}</span>
                            <span>üí∞ {job.salary}</span>
                          </div>
                          <div className="flex flex-wrap gap-2 mt-3">
                            {job.skills.map((skill, idx) => (
                              <span key={idx} className="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">
                                {skill}
                              </span>
                            ))}
                          </div>
                        </div>
                        <div className="flex flex-col space-y-2">
                          <button 
                            onClick={() => handleApply(job)}
                            className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                            Apply Now
                          </button>
                          <button 
                            onClick={() => handleViewDetails(job)}
                            className="border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition">
                            View Details
                          </button>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              )}

              {/* Job Details Modal */}
              <Modal isOpen={showJobDetails} onClose={() => setShowJobDetails(false)} title={selectedJob?.title}>
                {selectedJob && (
                  <div className="space-y-4">
                    <div>
                      <h3 className="font-bold text-lg mb-2">Company</h3>
                      <p className="text-gray-700">{selectedJob.company}</p>
                    </div>
                    <div>
                      <h3 className="font-bold text-lg mb-2">Description</h3>
                      <p className="text-gray-700">{selectedJob.description}</p>
                    </div>
                    <div>
                      <h3 className="font-bold text-lg mb-2">Requirements</h3>
                      <ul className="list-disc list-inside text-gray-700 space-y-1">
                        {selectedJob.requirements.map((req, idx) => (
                          <li key={idx}>{req}</li>
                        ))}
                      </ul>
                    </div>
                    <div>
                      <h3 className="font-bold text-lg mb-2">Benefits</h3>
                      <div className="flex flex-wrap gap-2">
                        {selectedJob.benefits.map((benefit, idx) => (
                          <span key={idx} className="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">
                            {benefit}
                          </span>
                        ))}
                      </div>
                    </div>
                    <div className="flex space-x-3 pt-4">
                      <button 
                        onClick={() => {
                          setShowJobDetails(false);
                          handleApply(selectedJob);
                        }}
                        className="flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                        Apply Now
                      </button>
                      <button 
                        onClick={() => setShowJobDetails(false)}
                        className="px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Close
                      </button>
                    </div>
                  </div>
                )}
              </Modal>

              {/* Apply Modal */}
              <Modal isOpen={showApplyModal} onClose={() => setShowApplyModal(false)} title={`Apply to ${selectedJob?.title}`}>
                {selectedJob && (
                  <div className="space-y-4">
                    <div className="bg-blue-50 border border-blue-200 rounded-lg p-4">
                      <p className="text-sm text-blue-800">
                        <strong>üí° AI Tip:</strong> Your profile has a {selectedJob.match}% match with this job!
                      </p>
                    </div>
                    
                    <div>
                      <label className="block font-semibold mb-2">Cover Letter *</label>
                      <textarea
                        className="w-full border rounded-lg px-4 py-2 h-40"
                        placeholder="Tell us why you're a great fit for this role..."
                        value={applicationData.coverLetter}
                        onChange={(e) => setApplicationData({...applicationData, coverLetter: e.target.value})}
                      />
                    </div>

                    <div>
                      <label className="block font-semibold mb-2">When can you start?</label>
                      <input
                        type="date"
                        className="w-full border rounded-lg px-4 py-2"
                        value={applicationData.availability}
                        onChange={(e) => setApplicationData({...applicationData, availability: e.target.value})}
                      />
                    </div>

                    <div className="flex space-x-3 pt-4">
                      <button 
                        onClick={submitApplication}
                        className="flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                        Submit Application
                      </button>
                      <button 
                        onClick={() => setShowApplyModal(false)}
                        className="px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50">
                        Cancel
                      </button>
                    </div>
                  </div>
                )}
              </Modal>
            </div>
          );
        };

        // Resume Component
        const Resume = ({ showToast }) => {
          const [resumeData, setResumeData] = useState({
            name: '',
            email: '',
            phone: '',
            summary: '',
            experience: [],
            projects: [],
            skills: []
          });
          const [newSkill, setNewSkill] = useState('');

          const addExperience = () => {
            setResumeData({
              ...resumeData,
              experience: [...resumeData.experience, {
                company: '',
                position: '',
                duration: '',
                description: ''
              }]
            });
          };

          const updateExperience = (index, field, value) => {
            const updated = [...resumeData.experience];
            updated[index][field] = value;
            setResumeData({...resumeData, experience: updated});
          };

          const removeExperience = (index) => {
            setResumeData({
              ...resumeData,
              experience: resumeData.experience.filter((_, i) => i !== index)
            });
          };

          const addProject = () => {
            setResumeData({
              ...resumeData,
              projects: [...resumeData.projects, {
                name: '',
                description: '',
                technologies: '',
                link: ''
              }]
            });
          };

          const updateProject = (index, field, value) => {
            const updated = [...resumeData.projects];
            updated[index][field] = value;
            setResumeData({...resumeData, projects: updated});
          };

          const removeProject = (index) => {
            setResumeData({
              ...resumeData,
              projects: resumeData.projects.filter((_, i) => i !== index)
            });
          };

          const addSkill = () => {
            if (newSkill.trim()) {
              setResumeData({
                ...resumeData,
                skills: [...resumeData.skills, newSkill.trim()]
              });
              setNewSkill('');
            }
          };

          const removeSkill = (index) => {
            setResumeData({
              ...resumeData,
              skills: resumeData.skills.filter((_, i) => i !== index)
            });
          };

          const calculateATS = () => {
            let score = 0;
            if (resumeData.name) score += 10;
            if (resumeData.email) score += 10;
            if (resumeData.phone) score += 10;
            if (resumeData.summary && resumeData.summary.length > 50) score += 15;
            if (resumeData.experience.length > 0) score += 20;
            if (resumeData.projects.length > 0) score += 15;
            if (resumeData.skills.length > 3) score += 20;
            return score;
          };

          return (
            <div className="space-y-6">
              <div className="flex justify-between items-center">
                <h1 className="text-3xl font-bold text-gray-800">AI Resume Builder</h1>
                <div className="flex space-x-3">
                  <button 
                    onClick={() => showToast('AI optimization complete!', 'success')}
                    className="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition">
                    ü§ñ AI Optimize
                  </button>
                  <button 
                    onClick={() => showToast('Downloading PDF...', 'success')}
                    className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                    üìÑ Download PDF
                  </button>
                </div>
              </div>

              <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div className="bg-white rounded-xl shadow-md p-6 space-y-4 max-h-[800px] overflow-y-auto">
                  <h2 className="text-xl font-bold">Personal Information</h2>
                  <input
                    type="text"
                    placeholder="Full Name *"
                    className="w-full border rounded-lg px-4 py-2"
                    value={resumeData.name}
                    onChange={(e) => setResumeData({...resumeData, name: e.target.value})}
                  />
                  <input
                    type="email"
                    placeholder="Email *"
                    className="w-full border rounded-lg px-4 py-2"
                    value={resumeData.email}
                    onChange={(e) => setResumeData({...resumeData, email: e.target.value})}
                  />
                  <input
                    type="tel"
                    placeholder="Phone *"
                    className="w-full border rounded-lg px-4 py-2"
                    value={resumeData.phone}
                    onChange={(e) => setResumeData({...resumeData, phone: e.target.value})}
                  />
                  
                  <h2 className="text-xl font-bold pt-4">Professional Summary</h2>
                  <textarea
                    placeholder="Write a compelling summary..."
                    className="w-full border rounded-lg px-4 py-2 h-32"
                    value={resumeData.summary}
                    onChange={(e) => setResumeData({...resumeData, summary: e.target.value})}
                  />

                  <div className="flex justify-between items-center pt-4">
                    <h2 className="text-xl font-bold">Experience</h2>
                    <button 
                      onClick={addExperience}
                      className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm">
                      + Add Experience
                    </button>
                  </div>

                  {resumeData.experience.map((exp, index) => (
                    <div key={index} className="border rounded-lg p-4 space-y-3 bg-gray-50">
                      <div className="flex justify-between items-center">
                        <h3 className="font-semibold">Experience {index + 1}</h3>
                        <button 
                          onClick={() => removeExperience(index)}
                          className="text-red-600 hover:text-red-800">
                          Remove
                        </button>
                      </div>
                      <input
                        type="text"
                        placeholder="Company Name"
                        className="w-full border rounded-lg px-4 py-2"
                        value={exp.company}
                        onChange={(e) => updateExperience(index, 'company', e.target.value)}
                      />
                      <input
                        type="text"
                        placeholder="Position"
                        className="w-full border rounded-lg px-4 py-2"
                        value={exp.position}
                        onChange={(e) => updateExperience(index, 'position', e.target.value)}
                      />
                      <input
                        type="text"
                        placeholder="Duration (e.g., Jan 2020 - Present)"
                        className="w-full border rounded-lg px-4 py-2"
                        value={exp.duration}
                        onChange={(e) => updateExperience(index, 'duration', e.target.value)}
                      />
                      <textarea
                        placeholder="Describe your responsibilities..."
                        className="w-full border rounded-lg px-4 py-2 h-24"
                        value={exp.description}
                        onChange={(e) => updateExperience(index, 'description', e.target.value)}
                      />
                    </div>
                  ))}

                  <div className="flex justify-between items-center pt-4">
                    <h2 className="text-xl font-bold">Projects</h2>
                    <button 
                      onClick={addProject}
                      className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition text-sm">
                      + Add Project
                    </button>
                  </div>

                  {resumeData.projects.map((project, index) => (
                    <div key={index} className="border rounded-lg p-4 space-y-3 bg-blue-50">
                      <div className="flex justify-between items-center">
                        <h3 className="font-semibold">Project {index + 1}</h3>
                        <button 
                          onClick={() => removeProject(index)}
                          className="text-red-600 hover:text-red-800">
                          Remove
                        </button>
                      </div>
                      <input
                        type="text"
                        placeholder="Project Name"
                        className="w-full border rounded-lg px-4 py-2"
                        value={project.name}
                        onChange={(e) => updateProject(index, 'name', e.target.value)}
                      />
                      <textarea
                        placeholder="Project Description"
                        className="w-full border rounded-lg px-4 py-2 h-24"
                        value={project.description}
                        onChange={(e) => updateProject(index, 'description', e.target.value)}
                      />
                      <input
                        type="text"
                        placeholder="Technologies Used (e.g., React, Node.js, MongoDB)"
                        className="w-full border rounded-lg px-4 py-2"
                        value={project.technologies}
                        onChange={(e) => updateProject(index, 'technologies', e.target.value)}
                      />
                      <input
                        type="url"
                        placeholder="Project Link (optional)"
                        className="w-full border rounded-lg px-4 py-2"
                        value={project.link}
                        onChange={(e) => updateProject(index, 'link', e.target.value)}
                      />
                    </div>
                  ))}

                  <h2 className="text-xl font-bold pt-4">Skills</h2>
                  <div className="flex space-x-2">
                    <input
                      type="text"
                      placeholder="Add a skill"
                      className="flex-1 border rounded-lg px-4 py-2"
                      value={newSkill}
                      onChange={(e) => setNewSkill(e.target.value)}
                      onKeyPress={(e) => e.key === 'Enter' && addSkill()}
                    />
                    <button 
                      onClick={addSkill}
                      className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                      Add
                    </button>
                  </div>
                  <div className="flex flex-wrap gap-2">
                    {resumeData.skills.map((skill, index) => (
                      <span key={index} className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm flex items-center space-x-2">
                        <span>{skill}</span>
                        <button 
                          onClick={() => removeSkill(index)}
                          className="text-blue-900 hover:text-red-600">
                          √ó
                        </button>
                      </span>
                    ))}
                  </div>
                </div>

                <div className="bg-white rounded-xl shadow-md p-6 sticky top-6">
                  <h2 className="text-xl font-bold mb-4">Resume Preview</h2>
                  <div className="border-2 border-gray-200 rounded-lg p-6 min-h-[500px] max-h-[700px] overflow-y-auto bg-gray-50">
                    <div className="text-center mb-6">
                      <h3 className="text-2xl font-bold">{resumeData.name || 'Your Name'}</h3>
                      <p className="text-gray-600">{resumeData.email || 'email@example.com'} | {resumeData.phone || '(123) 456-7890'}</p>
                    </div>
                    
                    {resumeData.summary && (
                      <div className="mb-6">
                        <h4 className="text-lg font-bold border-b-2 border-gray-300 pb-2 mb-3">Professional Summary</h4>
                        <p className="text-gray-700">{resumeData.summary}</p>
                      </div>
                    )}

                    {resumeData.experience.length > 0 && (
                      <div className="mb-6">
                        <h4 className="text-lg font-bold border-b-2 border-gray-300 pb-2 mb-3">Experience</h4>
                        {resumeData.experience.map((exp, index) => (
                          <div key={index} className="mb-4">
                            <h5 className="font-bold">{exp.position || 'Position'}</h5>
                            <p className="text-gray-600">{exp.company || 'Company'} | {exp.duration || 'Duration'}</p>
                            <p className="text-gray-700 mt-1">{exp.description}</p>
                          </div>
                        ))}
                      </div>
                    )}

                    {resumeData.projects.length > 0 && (
                      <div className="mb-6">
                        <h4 className="text-lg font-bold border-b-2 border-gray-300 pb-2 mb-3">Projects</h4>
                        {resumeData.projects.map((project, index) => (
                          <div key={index} className="mb-4">
                            <h5 className="font-bold">{project.name || 'Project Name'}</h5>
                            <p className="text-gray-700 mt-1">{project.description}</p>
                            {project.technologies && (
                              <p className="text-gray-600 text-sm mt-1">
                                <strong>Technologies:</strong> {project.technologies}
                              </p>
                            )}
                            {project.link && (
                              <p className="text-blue-600 text-sm mt-1">
                                üîó <a href={project.link} target="_blank" className="hover:underline">{project.link}</a>
                              </p>
                            )}
                          </div>
                        ))}
                      </div>
                    )}

                    {resumeData.skills.length > 0 && (
                      <div className="mb-6">
                        <h4 className="text-lg font-bold border-b-2 border-gray-300 pb-2 mb-3">Skills</h4>
                        <p className="text-gray-700">{resumeData.skills.join(' ‚Ä¢ ')}</p>
                      </div>
                    )}

                    <div className={`border rounded-lg p-4 mt-6 ${
                      calculateATS() >= 80 ? 'bg-green-50 border-green-200' :
                      calculateATS() >= 60 ? 'bg-yellow-50 border-yellow-200' :
                      'bg-red-50 border-red-200'
                    }`}>
                      <p className={`text-sm ${
                        calculateATS() >= 80 ? 'text-green-800' :
                        calculateATS() >= 60 ? 'text-yellow-800' :
                        'text-red-800'
                      }`}>
                        ‚≠ê <strong>ATS Score: {calculateATS()}/100</strong> - {
                          calculateATS() >= 80 ? 'Excellent!' :
                          calculateATS() >= 60 ? 'Good!' :
                          'Needs improvement'
                        }
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        // Applications Component
        const Applications = ({ showToast }) => {
          const [applications, setApplications] = useState([
            { id: 1, job: 'Senior Developer', company: 'TechCorp', status: 'Interview', date: '2024-02-10', stage: 'Technical Round' },
            { id: 2, job: 'AI Engineer', company: 'DataLabs', status: 'Applied', date: '2024-02-08', stage: 'Under Review' },
            { id: 3, job: 'Frontend Dev', company: 'StartupXYZ', status: 'Offer', date: '2024-02-05', stage: 'Offer Received' }
          ]);
          const [selectedApp, setSelectedApp] = useState(null);
          const [showDetailsModal, setShowDetailsModal] = useState(false);
          const [showUpdateModal, setShowUpdateModal] = useState(false);
          const [notes, setNotes] = useState('');

          const getStatusColor = (status) => {
            const colors = {
              'Applied': 'bg-blue-100 text-blue-700',
              'Interview': 'bg-yellow-100 text-yellow-700',
              'Offer': 'bg-green-100 text-green-700',
              'Rejected': 'bg-red-100 text-red-700'
            };
            return colors[status] || 'bg-gray-100 text-gray-700';
          };

          const viewDetails = (app) => {
            setSelectedApp(app);
            setShowDetailsModal(true);
          };

          const openUpdateModal = (app) => {
            setSelectedApp(app);
            setShowUpdateModal(true);
          };

          const updateStatus = (newStatus) => {
            setApplications(applications.map(app => 
              app.id === selectedApp.id ? {...app, status: newStatus} : app
            ));
            showToast(`Status updated to ${newStatus}`, 'success');
            setShowUpdateModal(false);
          };

          const deleteApplication = (id) => {
            if (confirm('Are you sure you want to delete this application?')) {
              setApplications(applications.filter(app => app.id !== id));
              showToast('Application deleted', 'success');
            }
          };

          return (
            <div className="space-y-6">
              <div className="flex justify-between items-center">
                <h1 className="text-3xl font-bold text-gray-800">Application Tracker</h1>
                <div className="flex space-x-2">
                  <span className="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg">
                    {applications.filter(a => a.status === 'Applied').length} Applied
                  </span>
                  <span className="px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg">
                    {applications.filter(a => a.status === 'Interview').length} Interviews
                  </span>
                  <span className="px-4 py-2 bg-green-100 text-green-700 rounded-lg">
                    {applications.filter(a => a.status === 'Offer').length} Offers
                  </span>
                </div>
              </div>

              <div className="bg-white rounded-xl shadow-md overflow-hidden">
                <table className="w-full">
                  <thead className="bg-gray-50">
                    <tr>
                      <th className="px-6 py-3 text-left text-sm font-semibold text-gray-700">Job Title</th>
                      <th className="px-6 py-3 text-left text-sm font-semibold text-gray-700">Company</th>
                      <th className="px-6 py-3 text-left text-sm font-semibold text-gray-700">Status</th>
                      <th className="px-6 py-3 text-left text-sm font-semibold text-gray-700">Date</th>
                      <th className="px-6 py-3 text-left text-sm font-semibold text-gray-700">Actions</th>
                    </tr>
                  </thead>
                  <tbody className="divide-y divide-gray-200">
                    {applications.map(app => (
                      <tr key={app.id} className="hover:bg-gray-50">
                        <td className="px-6 py-4 font-medium text-gray-800">{app.job}</td>
                        <td className="px-6 py-4 text-gray-600">{app.company}</td>
                        <td className="px-6 py-4">
                          <span className={`px-3 py-1 rounded-full text-sm font-semibold ${getStatusColor(app.status)}`}>
                            {app.status}
                          </span>
                        </td>
                        <td className="px-6 py-4 text-gray-600">{app.date}</td>
                        <td className="px-6 py-4">
                          <div className="flex space-x-2">
                            <button 
                              onClick={() => viewDetails(app)}
                              className="text-blue-600 hover:text-blue-800 font-semibold">
                              View
                            </button>
                            <button 
                              onClick={() => openUpdateModal(app)}
                              className="text-green-600 hover:text-green-800 font-semibold">
                              Update
                            </button>
                            <button 
                              onClick={() => deleteApplication(app.id)}
                              className="text-red-600 hover:text-red-800 font-semibold">
                              Delete
                            </button>
                          </div>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>

              {/* Details Modal */}
              <Modal isOpen={showDetailsModal} onClose={() => setShowDetailsModal(false)} title="Application Details">
                {selectedApp && (
                  <div className="space-y-4">
                    <div className="grid grid-cols-2 gap-4">
                      <div>
                        <h3 className="font-semibold text-gray-600">Job Title</h3>
                        <p className="text-lg">{selectedApp.job}</p>
                      </div>
                      <div>
                        <h3 className="font-semibold text-gray-600">Company</h3>
                        <p className="text-lg">{selectedApp.company}</p>
                      </div>
                      <div>
                        <h3 className="font-semibold text-gray-600">Status</h3>
                        <span className={`px-3 py-1 rounded-full text-sm font-semibold ${getStatusColor(selectedApp.status)}`}>
                          {selectedApp.status}
                        </span>
                      </div>
                      <div>
                        <h3 className="font-semibold text-gray-600">Applied Date</h3>
                        <p className="text-lg">{selectedApp.date}</p>
                      </div>
                    </div>
                    <div>
                      <h3 className="font-semibold text-gray-600 mb-2">Current Stage</h3>
                      <p className="text-lg">{selectedApp.stage}</p>
                    </div>
                    <div>
                      <h3 className="font-semibold text-gray-600 mb-2">Notes</h3>
                      <textarea
                        className="w-full border rounded-lg px-4 py-2 h-32"
                        placeholder="Add notes about this application..."
                        value={notes}
                        onChange={(e) => setNotes(e.target.value)}
                      />
                    </div>
                    <button 
                      onClick={() => {
                        showToast('Notes saved!', 'success');
                        setShowDetailsModal(false);
                      }}
                      className="w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                      Save Notes
                    </button>
                  </div>
                )}
              </Modal>

              {/* Update Status Modal */}
              <Modal isOpen={showUpdateModal} onClose={() => setShowUpdateModal(false)} title="Update Application Status">
                {selectedApp && (
                  <div className="space-y-4">
                    <p className="text-gray-600">Update status for <strong>{selectedApp.job}</strong> at <strong>{selectedApp.company}</strong></p>
                    <div className="grid grid-cols-2 gap-3">
                      {['Applied', 'Interview', 'Offer', 'Rejected'].map(status => (
                        <button
                          key={status}
                          onClick={() => updateStatus(status)}
                          className={`px-6 py-3 rounded-lg font-semibold transition ${
                            selectedApp.status === status
                              ? 'bg-blue-600 text-white'
                              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                          }`}>
                          {status}
                        </button>
                      ))}
                    </div>
                  </div>
                )}
              </Modal>
            </div>
          );
        };

        // AI Coach Component
        const AICoach = ({ showToast }) => {
          const [messages, setMessages] = useState([
            { role: 'ai', text: 'Hello! I\'m your AI Career Coach. How can I help you today?' }
          ]);
          const [input, setInput] = useState('');
          const [isTyping, setIsTyping] = useState(false);

          const quickActions = [
            { icon: 'üìä', text: 'Analyze My Profile', response: 'Based on your profile, you have strong technical skills. I recommend adding AWS certifications to increase your marketability by 40%.' },
            { icon: 'üéØ', text: 'Career Path Suggestions', response: 'Given your experience, you\'re ready for Senior Developer or Tech Lead roles. Consider positions at mid-size tech companies for faster growth.' },
            { icon: 'üìö', text: 'Learning Roadmap', response: 'To advance your career, focus on: 1) AWS Solutions Architect certification, 2) System Design mastery, 3) Leadership skills. Estimated time: 6 months.' },
            { icon: 'üíº', text: 'Interview Prep', response: 'For interviews, prepare: 1) System design questions, 2) Behavioral questions using STAR method, 3) Technical coding challenges. Would you like specific resources?' }
          ];

          const sendMessage = (text = input) => {
            if (!text.trim()) return;
            
            const userMessage = { role: 'user', text };
            setMessages([...messages, userMessage]);
            setInput('');
            setIsTyping(true);

            setTimeout(() => {
              const responses = [
                'That\'s a great question! Based on current market trends, I recommend focusing on cloud technologies and AI/ML skills.',
                'I understand your concern. Let me help you with that. First, update your resume to highlight quantifiable achievements.',
                'Excellent! Here\'s what I suggest: 1) Network on LinkedIn, 2) Apply to 5-10 jobs daily, 3) Follow up after 1 week.',
                'Based on your profile, you\'re a strong candidate. I recommend tailoring your resume for each application to increase your success rate by 60%.'
              ];
              const aiMessage = { 
                role: 'ai', 
                text: responses[Math.floor(Math.random() * responses.length)]
              };
              setMessages(prev => [...prev, aiMessage]);
              setIsTyping(false);
            }, 1500);
          };

          const handleQuickAction = (action) => {
            setMessages([...messages, 
              { role: 'user', text: action.text },
              { role: 'ai', text: action.response }
            ]);
            showToast('AI analysis complete!', 'success');
          };

          return (
            <div className="space-y-6">
              <h1 className="text-3xl font-bold text-gray-800">AI Career Coach</h1>

              <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div className="lg:col-span-2 bg-white rounded-xl shadow-md p-6">
                  <div className="h-96 overflow-y-auto mb-4 space-y-4">
                    {messages.map((msg, idx) => (
                      <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                        <div className={`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${
                          msg.role === 'user' 
                            ? 'bg-blue-600 text-white' 
                            : 'bg-gray-100 text-gray-800'
                        }`}>
                          {msg.text}
                        </div>
                      </div>
                    ))}
                    {isTyping && (
                      <div className="flex justify-start">
                        <div className="bg-gray-100 text-gray-800 px-4 py-3 rounded-lg">
                          <span className="animate-pulse">AI is typing...</span>
                        </div>
                      </div>
                    )}
                  </div>
                  <div className="flex space-x-2">
                    <input
                      type="text"
                      placeholder="Ask me anything about your career..."
                      className="flex-1 border rounded-lg px-4 py-2"
                      value={input}
                      onChange={(e) => setInput(e.target.value)}
                      onKeyPress={(e) => e.key === 'Enter' && sendMessage()}
                    />
                    <button 
                      onClick={() => sendMessage()}
                      disabled={isTyping}
                      className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50">
                      Send
                    </button>
                  </div>
                </div>

                <div className="space-y-4">
                  <div className="bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-md p-6 text-white">
                    <h3 className="text-lg font-bold mb-3">Quick Actions</h3>
                    <div className="space-y-2">
                      {quickActions.map((action, idx) => (
                        <button 
                          key={idx}
                          onClick={() => handleQuickAction(action)}
                          className="w-full bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-left transition">
                          {action.icon} {action.text}
                        </button>
                      ))}
                    </div>
                  </div>

                  <div className="bg-white rounded-xl shadow-md p-6">
                    <h3 className="text-lg font-bold mb-3">Suggested Topics</h3>
                    <div className="space-y-2 text-sm">
                      {[
                        'How to negotiate salary?',
                        'Best skills for 2024?',
                        'Resume optimization tips',
                        'Interview preparation',
                        'Career change advice',
                        'Remote job strategies'
                      ].map((topic, idx) => (
                        <p 
                          key={idx}
                          onClick={() => sendMessage(topic)}
                          className="text-gray-600 hover:text-blue-600 cursor-pointer">
                          ‚Ä¢ {topic}
                        </p>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        // Main App Component
        const App = () => {
          const [user, setUser] = useState(null);
          const [authView, setAuthView] = useState('signin');
          const [toast, setToast] = useState(null);
          const [activeTab, setActiveTab] = useState('Dashboard');
          const [isLoading, setIsLoading] = useState(true);

          useEffect(() => {
            const currentUser = AuthManager.getCurrentUser();
            if (currentUser) {
              setUser(currentUser);
            }
            setIsLoading(false);
          }, []);

          const showToast = (message, type = 'info') => {
            setToast({ message, type });
          };

          const closeToast = () => {
            setToast(null);
          };

          const handleSignIn = (user) => {
            setUser(user);
          };

          const handleSignUp = (user) => {
            setUser(user);
          };

          const handleSignOut = () => {
            AuthManager.signOut();
            setUser(null);
            showToast('Signed out successfully', 'success');
          };

          if (isLoading) {
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center">
                <div className="text-white text-2xl font-bold">Loading...</div>
              </div>
            );
          }

          if (!user) {
            return (
              <>
                {authView === 'signin' ? (
                  <SignIn 
                    onSwitchToSignUp={() => setAuthView('signup')} 
                    onSignIn={handleSignIn}
                    showToast={showToast}
                  />
                ) : (
                  <SignUp 
                    onSwitchToSignIn={() => setAuthView('signin')} 
                    onSignUp={handleSignUp}
                    showToast={showToast}
                  />
                )}
                {toast && <Toast message={toast.message} type={toast.type} onClose={closeToast} />}
              </>
            );
          }

          return (
            <div className="min-h-screen bg-gray-50">
              <Navigation 
                activeTab={activeTab} 
                setActiveTab={setActiveTab}
                user={user}
                onSignOut={handleSignOut}
              />
              <div className="container mx-auto px-4 py-8">
                {activeTab === 'Dashboard' && <Dashboard user={user} onNavigate={setActiveTab} showToast={showToast} />}
                {activeTab === 'Jobs' && <Jobs showToast={showToast} onNavigate={setActiveTab} />}
                {activeTab === 'Resume' && <Resume showToast={showToast} />}
                {activeTab === 'Applications' && <Applications showToast={showToast} />}
                {activeTab === 'AI Coach' && <AICoach showToast={showToast} />}
              </div>
              {toast && <Toast message={toast.message} type={toast.type} onClose={closeToast} />}
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
